{% extends 'base_dashboard.html' %}
{% load static %}

{% block navs %}

<div class="col-lg-12 col-xl-12">
    <div class="m-3">
        <h5>
            Clientes
            <a href="{% url 'criar_cliente' %}" class="btn btn-save btn-sm float-end">+ Adicionar</a>
        </h5>
    </div>

    <!--Pesquisa-->
    <div class="">
        <form class="form-inline" method="GET" action="?">
            {% csrf_token %}
            <input class="form-inline" type="text" name="cliente" placeholder="Pesquisar"
            value="{{ request.GET.cliente }}" id="" autocomplete="off">
            <button type="submit"><i class="bi bi-search my-2 my-sm-0"></i></button>
            <a href="{% url 'clientes' %}">Limpar</a>
        </form>
    </div>
        
    <div class="card info-card customers-card">
      <div class="p-3">
            <div class="col">              
                <table class="table table-hover ">
                    <tr>
                        <th>Nome</th>
                        <th>Telefone</th>
                    </tr>
                    {% for cliente in object_list %}
                    <tr onclick="window.location.href=$('#h{{ cliente.pk }}').val();" style="cursor: pointer;" >
                        <td>{{ cliente.nome }}</td>
                        <td>{{ cliente.telefone }}</td>
                        <td>
                            <input type="hidden" value="{% url 'editar_cliente' cliente.pk %}" id="h{{ cliente.pk }}">
                        </td>
                    </tr>
                    {% empty %}
                    <tr>
                        <td colspan="3">Nuhum campo cadastrado</td>
                    </tr>
                    {% endfor %}
                </table>

                <!--Paginação-->
                <nav aria-label="Page navigation example">
                    <ul class="pagination">
  
                    <li class="page-item">
                        <a class="page-link" href="?page=1" aria-label="Previous">
                        <span aria-hidden="true">&laquo;</span>
                        <span class="sr-only"></span>
                        </a>
                    </li>

                    {% if page_obj.has_previous %}
                        <li class="page-item"><a class="page-link" href="?page={{ page_obj.previous_page_number }}">Anterior</a></li>
                    {% endif %}
                        <!-- <li class="page-item"><a class="page-link" href="#">{{ page_obj.number }}</a></li>-->
                    {% if page_obj.has_next %}  
                        <li class="page-item"><a class="page-link" href="?page={{ page_obj.next_page_number }}">Proxima </a></li>
                    {% endif %}
     
                      <li class="page-item">
                        <a class="page-link" href="?page={{ page_obj.paginator.num_pages }}" aria-label="Next">
                          <span aria-hidden="true">&raquo;</span>
                          <span class="sr-only"></span>
                        </a>
                      </li>

                    </ul>
                </nav>

            </div> 
        </div>        
    </div>
</div>

{% endblock %}

