{% extends 'base_dashboard.html' %}
{% load static %}
{% load crispy_forms_tags %}

{% block navs %}
<div class="col-lg-14">
    <div class="row">
        <div class="col-xxl-6 col-md-6">
            <div class="card info-card sales-card">
                <div class="p-3">
                    <div class="col">
                        <h4>{{ titulo }}</h4>
                        <form method="post" enctype="multipart/form-data">
                            {% csrf_token %}
                            <div class="row">
                                <div class="col-md mb-2">
                                    {{ form.dias_da_semana|as_crispy_field }}
                                </div>
                            </div>
                            <div class="row mb-2">
                                <div class="col-md-6">
                                    {{ form.horario_inicio|as_crispy_field }}
                                </div>
                                <div class="col-md-6">
                                    {{ form.horario_saida|as_crispy_field }}
                                </div>
                            </div>
                            <div class="row mb-2">
                                <div class="col-md-6">
                                    {{ form.inicio_intervalo|as_crispy_field }}
                                </div>
                                <div class="col-md-6">
                                    {{ form.final_intervalo|as_crispy_field }}
                                </div>
                            </div>
                            <button type="submit" class="btn btn-save btn-sm col-md m-1">{{ btn }}</button>
                            <a href="{% url 'criar_horario' %}" class="btn btn-secondary btn-sm">Voltar</a>
                        </form>
                    </div>
                </div>
            </div> 
        </div> 
        <div class="col-xxl-6 col-md-6">
            <div class="card info-card sales-card">
                <div class="p-1">
                    <div class="col">
                        <table class="table">
                            <tr>
                                <th>Dias da Semana</th>
                                <th>Entrada</th>
                                <th>Sa√≠da</th>
                                <th>Intervalo</th>
                                <th></th>
                            </tr>
                            <tr>
                                <td>{{ object.dias_da_semana }}</td>
                                <td>{{ object.horario_inicio }}</td>
                                <td>{{ object.horario_saida }}</td>
                                <td>{{ object.inicio_intervalo }} - {{ object.final_intervalo }} </td>
                                <td>
                                    <a href="#modalExcluir" data-bs-toggle="modal" data-bs-target="#modalExcluir"><i class="bi bi-trash3 bi-sm" ></i></a>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div> 
            </div>
        </div>              
    <div> 
</div>
<!--Modal-->
<div class="modal fade " id="modalExcluir" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-body">
                    <form method="post" action="{% url 'excluir_horario' object.pk %}">
                        {% csrf_token %}  
                        <i class="i-exclame bi bi-exclamation-triangle" ></i>
                        <h2 class="h2-modal">Aviso</h2>
                        <p class="p-modal">Deseja <strong>Excluir</strong> o Horario de <strong>{{ object.dias_da_semana }}</strong>?</p>
                            <button type="submit" class="btn b-excluir btn-sm float-end">Excluir</button>
                            <button type="button" class="btn b-save btn-sm" data-bs-dismiss="modal">Voltar</button>
                    </form>            
                </div>
            </div>
        </div>
    </div>
</div>


<script>
        
    function exabreModalWxcluir(){
        $("#modalExcluir").modal('show');
    }

</script>

{% endblock %}

{% block script %}

<script src="{% static 'js/jquery.mask.min.js' %}"></script>

<script>

    $(document).ready(function(){

        $('#id_horario_inicio').mask('00:00');
        $('#id_horario_saida').mask('00:00');
        $('#id_inicio_intervalo').mask('00:00');
        $('#id_final_intervalo').mask('00:00');

    });

</script>
    
{% endblock %}